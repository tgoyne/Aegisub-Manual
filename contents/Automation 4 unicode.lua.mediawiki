The <tt>unicode.lua</tt> include for Automation 4 Lua contains various helper functions for working with UTF-8 encoded text.

== unicode.charwidth ==
Synopsis: <code>width = unicode.charwidth(instring, index)</code>

Returns the number of bytes occupied by the UTF-8 encoded character starting at position <code>index</code> in <code>instring</code>. The character pointed to is assumed to be a prefix byte.

The <code>index</code> parameter is optional, it defaults to 1 (one) when left out, meaning the width of the first character in <code>instring</code> will be returned.

== unicode.chars ==
Synopsis: <code> for char = unicode.chars(instring) do ... end</code>

Returns an iterator function for looping over all characters in the given UTF-8 encoded string. For each iteration of the loop, <code>char</code> will contain a string representing the next character in the string.

== unicode.len ==
Synopsis: <code>length = unicode.len(instring)</code>

Determine the length of the given UTF-8 encoded string.

Be aware that this function does not run in constant time, but in linear time (O(N)) proportional to the number of Unicode characters in <code>instring</code>.

== unicode.codepoint ==
Synopsis: <code>val = unicode.codepoint(instring)</code> <!-- foo -->

Calculate the Unicode codepoint for the first character in <code>instring</code>.


[[Category:Lua Reference]]